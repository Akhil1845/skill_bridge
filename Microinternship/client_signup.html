<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animated Client Login & Register</title>
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; color:#fff; }
body { display:flex; justify-content:center; align-items:center; min-height:100vh; background:#25252b; }

.container { position:relative; width:950px; height:550px; border:2px solid #ff8c00; box-shadow:0 0 30px #ff8c00; overflow:hidden; border-radius:12px; }

.container .form-box { position:absolute; top:0; width:50%; height:100%; display:flex; justify-content:center; flex-direction:column; }
.form-box.Login { left:0; padding:0 50px; }
.form-box.Login .animation { transform:translateX(0%); transition:.7s; opacity:1; transition-delay:calc(.1s * var(--S)); }
.container.active .form-box.Login .animation { transform:translateX(-120%); opacity:0; transition-delay:calc(.1s * var(--D)); }

.form-box.Register { right:0; padding:0 60px; }
.form-box.Register .animation { transform:translateX(120%); transition:.7s ease; opacity:0; filter:blur(10px); transition-delay:calc(.1s * var(--S)); }
.container.active .form-box.Register .animation { transform:translateX(0%); opacity:1; filter:blur(0px); transition-delay:calc(.1s * var(--li)); }

.form-box h2 { font-size:32px; text-align:center; color:#ff8c00; }
.form-box .input-box { position:relative; width:100%; height:50px; margin-top:25px; }
.input-box input { width:100%; height:100%; background:transparent; border:none; outline:none; font-size:18px; color:#fff; font-weight:600; border-bottom:2px solid #fff; padding-right:40px; transition:.5s; }
.input-box input:focus, .input-box input:valid { border-bottom:2px solid #ff8c00; }
.input-box label { position:absolute; top:50%; left:0; transform:translateY(-50%); font-size:18px; color:#fff; transition:.5s; }
.input-box input:focus ~ label, .input-box input:valid ~ label { top:-5px; color:#ff8c00; }

.toggle-password { position:absolute; right:5px; top:50%; transform:translateY(-50%); cursor:pointer; font-size:20px; color:#fff; }

.btn { position:relative; width:100%; height:55px; background:transparent; border-radius:40px; cursor:pointer; font-size:18px; font-weight:600; border:2px solid #ff8c00; overflow:hidden; z-index:1; color:#ff8c00; }
.btn::before { content:""; position:absolute; height:300%; width:100%; background:linear-gradient(#25252b,#ff8c00,#25252b,#ff8c00); top:-100%; left:0; z-index:-1; transition:.5s; }
.btn:hover:before { top:0; }
.btn:hover { color:#fff; }

.regi-link { font-size:16px; text-align:center; margin:25px 0 10px; }
.regi-link a { text-decoration:none; color:#ff8c00; font-weight:600; }
.regi-link a:hover { text-decoration:underline; }

.info-content { position:absolute; top:0; height:100%; width:50%; display:flex; justify-content:center; flex-direction:column; }
.info-content.Login { right:0; text-align:right; padding:0 50px 60px 180px; }
.info-content.Login .animation { transform:translateX(0); transition:.7s ease; transition-delay:calc(.1s * var(--S)); opacity:1; filter:blur(0px); }
.container.active .info-content.Login .animation { transform:translateX(120%); opacity:0; filter:blur(10px); transition-delay:calc(.1s * var(--D)); }

.info-content.Register { left:0; text-align:left; padding:0 180px 60px 50px; pointer-events:none; }
.info-content.Register .animation { transform:translateX(-120%); transition:.7s ease; opacity:0; filter:blur(10px); transition-delay:calc(.1s * var(--S)); }
.container.active .info-content.Register .animation { transform:translateX(0%); opacity:1; filter:blur(0); transition-delay:calc(.1s * var(--li)); }

.info-content h2 { text-transform:uppercase; font-size:42px; line-height:1.3; color:#ff8c00; }
.info-content p { font-size:18px; color:#fff; }

.container .curved-shape { position:absolute; right:0; top:-5px; height:650px; width:950px; background:linear-gradient(45deg,#25252b,#ff8c00); transform:rotate(10deg) skewY(40deg); transform-origin:bottom right; transition:1.5s ease; transition-delay:1.6s; }
.container.active .curved-shape { transform:rotate(0deg) skewY(0deg); transition-delay:.5s; }

.container .curved-shape2 { position:absolute; left:300px; top:100%; height:750px; width:950px; background:#25252b; border-top:3px solid #ff8c00; transform:rotate(0deg) skewY(0deg); transform-origin:bottom left; transition:1.5s ease; transition-delay:.5s; }
.container.active .curved-shape2 { transform:rotate(-11deg) skewY(-41deg); transition-delay:1.2s; }

.social-login { display:flex; gap:10px; margin-top:15px; justify-content:center; }
.social-btn { width:40px; height:40px; border:none; border-radius:6px; background:#444; color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:20px; transition:0.3s; }
.social-btn:hover { background:#ff8c00; }
</style>
</head>
<body>

<div class="container">
    <div class="curved-shape"></div>
    <div class="curved-shape2"></div>

    <!-- LOGIN FORM -->
    <div class="form-box Login">
        <h2 class="animation" style="--D:0; --S:21">Client Login</h2>
        <form id="loginForm">
            <div class="input-box animation" style="--D:1; --S:22">
                <input type="email" id="loginEmail" required placeholder="Email">
                <label>Email</label>
            </div>
            <div class="input-box animation" style="--D:2; --S:23">
                <input type="password" id="loginPassword" required placeholder="Password">
                <label>Password</label>
                <i class='bx bx-show toggle-password'></i>
            </div>
            <div class="social-login animation" style="--D:3; --S:24">
                <button type="button" class="social-btn" id="googleLogin"><i class='bx bxl-google'></i></button>
                <button type="button" class="social-btn" id="githubLogin"><i class='bx bxl-github'></i></button>
                <button type="button" class="social-btn" id="linkedinLogin"><i class='bx bxl-linkedin-square'></i></button>
            </div>
            <div class="input-box animation" style="--D:4; --S:25">
                <button class="btn" type="submit">Login</button>
            </div>
            <div class="regi-link animation" style="--D:5; --S:26">
                <p>Don't have an account? <a href="#" class="SignUpLink">Sign Up</a></p>
            </div>
        </form>
    </div>

    <!-- LOGIN INFO -->
    <div class="info-content Login">
        <h2 class="animation" style="--D:0; --S:20">WELCOME BACK!</h2>
        <p class="animation" style="--D:1; --S:21">Manage your projects and connect with students.</p>
    </div>

    <!-- REGISTER FORM -->
    <div class="form-box Register">
        <h2 class="animation" style="--li:17; --S:0">Client Registration</h2>
        <form id="registerForm">
            <div class="input-box animation" style="--li:18; --S:1">
                <input type="text" id="companyName" required placeholder="Company Name">
                <label>Company Name</label>
            </div>
            <div class="input-box animation" style="--li:19; --S:2">
                <input type="email" id="registerEmail" required placeholder="Email">
                <label>Email</label>
            </div>
            <div class="input-box animation" style="--li:20; --S:3">
                <input type="password" id="registerPassword" required placeholder="Password">
                <label>Password</label>
                <i class='bx bx-show toggle-password'></i>
            </div>
            <div class="social-login animation" style="--li:21; --S:4">
                <button type="button" class="social-btn" id="googleRegister"><i class='bx bxl-google'></i></button>
                <button type="button" class="social-btn" id="githubRegister"><i class='bx bxl-github'></i></button>
                <button type="button" class="social-btn" id="linkedinRegister"><i class='bx bxl-linkedin-square'></i></button>
            </div>
            <div class="input-box animation" style="--li:22; --S:5">
                <button class="btn" type="submit">Register</button>
            </div>
            <div class="regi-link animation" style="--li:23; --S:6">
                <p>Already have an account? <a href="#" class="SignInLink">Sign In</a></p>
            </div>
        </form>
    </div>

    <!-- REGISTER INFO -->
    <div class="info-content Register">
        <h2 class="animation" style="--li:17; --S:0">WELCOME!</h2>
        <p class="animation" style="--li:18; --S:1">Register your company and access top talent.</p>
    </div>
</div>

<script>
const container = document.querySelector('.container');
const LoginLink = document.querySelector('.SignInLink');
const RegisterLink = document.querySelector('.SignUpLink');

// Toggle forms
RegisterLink.addEventListener('click', ()=> container.classList.add('active'));
LoginLink.addEventListener('click', ()=> container.classList.remove('active'));

// Password toggle
document.querySelectorAll('.toggle-password').forEach(icon => {
    icon.addEventListener('click', () => {
        const input = icon.closest('.input-box').querySelector('input');
        if(input.type === "password"){ 
            input.type="text"; 
            icon.classList.replace('bx-show','bx-hide'); 
        } else { 
            input.type="password"; 
            icon.classList.replace('bx-hide','bx-show'); 
        }
    });
});

// Login form
document.getElementById("loginForm").addEventListener("submit", async function(e){
    e.preventDefault();
    const email = document.getElementById("loginEmail").value.trim();
    const password = document.getElementById("loginPassword").value.trim();
    try {
        const response = await fetch('http://localhost:8080/api/clients/login', {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ email, password })
        });
        if(!response.ok) throw new Error(await response.text() || "Login failed");
        const client = await response.json();
        localStorage.setItem('clientId', client.id);
        localStorage.setItem('clientName', client.company || client.companyName || client.name || "Client");
        localStorage.setItem('clientEmail', client.email);
        window.location.href = "client_dashboard.html";
    } catch(err){
        alert("❌ Login failed: "+err.message);
    }
});

// Register form
document.getElementById("registerForm").addEventListener("submit", async function(e){
    e.preventDefault();
    const companyName = document.getElementById("companyName").value.trim();
    const email = document.getElementById("registerEmail").value.trim();
    const password = document.getElementById("registerPassword").value.trim();
    try {
        const response = await fetch('http://localhost:8080/api/clients', {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ companyName, email, password })
        });
        if(!response.ok) throw new Error(await response.text() || "Registration failed");
        const client = await response.json();
        localStorage.setItem('clientId', client.id);
        localStorage.setItem('clientName', client.company || client.companyName || client.name || "Client");
        localStorage.setItem('clientEmail', client.email);
        window.location.href = "client_dashboard.html";
    } catch(err){
        alert("❌ Registration failed: "+err.message);
    }
});

// Social login alerts
document.querySelectorAll('.social-btn').forEach(btn => btn.addEventListener('click', ()=> alert("Social login not configured")));
</script>
</body>
</html>
